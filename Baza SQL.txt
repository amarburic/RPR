CREATE SEQUENCE seq_Knjiga;
CREATE SEQUENCE seq_Osoba;
CREATE TABLE Clan (Sifra number(10) NOT NULL, Komentar varchar2(255), TipPlacanja number(10), Suspendovan number(1), DobClana number(10), PRIMARY KEY (Sifra));
CREATE TABLE ClanSaEtfa (Sifra number(10) NOT NULL, PRIMARY KEY (Sifra));
CREATE TABLE ElementListeZelja (ClanSifra number(10) NOT NULL, KnjigaSifra number(10) NOT NULL, Procitana number(10), PRIMARY KEY (ClanSifra, KnjigaSifra));
CREATE TABLE Knjiga (Sifra number(10) NOT NULL, Naslov varchar2(255), Autori varchar2(255), ISBN varchar2(255), Izdavac varchar2(255), GodinaZaduzenja number(10), Zaduzena number(1), Zaduzenik number(10), PRIMARY KEY (Sifra));
CREATE TABLE MasterStudent (Sifra number(10) NOT NULL, PRIMARY KEY (Sifra));
CREATE TABLE NaucniRad (Sifra number(10) NOT NULL, Oblast varchar2(255), Konferencija varchar2(255), PRIMARY KEY (Sifra));
CREATE TABLE Osoba (Sifra number(10) NOT NULL, Ime varchar2(255), Prezime varchar2(255), MaticniBroj varchar2(255), DatumRodjenja date, Slika blob, Spol number(10) CHECK(BETWEEN 0 AND 2), Dob number(10), KorisnickoIme varchar2(255), Lozinka varchar2(255), PRIMARY KEY (Sifra));
CREATE TABLE Profesor (Sifra number(10) NOT NULL, PRIMARY KEY (Sifra));
CREATE TABLE Strip (Sifra number(10) NOT NULL, AnimatorskaKuca varchar2(255), Umjetnici varchar2(255), BrojIzdanja number(10), SpecijalnoIzdanje number(1), PRIMARY KEY (Sifra));
CREATE TABLE Student (Sifra number(10) NOT NULL, PRIMARY KEY (Sifra));
CREATE TABLE Transakcije (ClanSifra number(10) NOT NULL, KnjigaSifra number(10) NOT NULL, Tip number(10), DatumZaduzenja date, Rok date, PRIMARY KEY (ClanSifra, KnjigaSifra));
CREATE TABLE Uposlenik (Sifra number(10) NOT NULL, TipUposlenika number(10), PRIMARY KEY (Sifra));
ALTER TABLE ElementListeZelja ADD CONSTRAINT FKElementLis490306 FOREIGN KEY (ClanSifra) REFERENCES Clan (Sifra);
ALTER TABLE ElementListeZelja ADD CONSTRAINT FKElementLis562470 FOREIGN KEY (KnjigaSifra) REFERENCES Knjiga (Sifra);
ALTER TABLE Transakcije ADD CONSTRAINT FKTransakcij205474 FOREIGN KEY (ClanSifra) REFERENCES Clan (Sifra);
ALTER TABLE Transakcije ADD CONSTRAINT FKTransakcij713339 FOREIGN KEY (KnjigaSifra) REFERENCES Knjiga (Sifra);
ALTER TABLE Clan ADD CONSTRAINT FKClan360972 FOREIGN KEY (Sifra) REFERENCES Osoba (Sifra);
ALTER TABLE Uposlenik ADD CONSTRAINT FKUposlenik586387 FOREIGN KEY (Sifra) REFERENCES Osoba (Sifra);
ALTER TABLE ClanSaEtfa ADD CONSTRAINT FKClanSaEtfa817416 FOREIGN KEY (Sifra) REFERENCES Clan (Sifra);
ALTER TABLE Profesor ADD CONSTRAINT FKProfesor17999 FOREIGN KEY (Sifra) REFERENCES ClanSaEtfa (Sifra);
ALTER TABLE Student ADD CONSTRAINT FKStudent221653 FOREIGN KEY (Sifra) REFERENCES ClanSaEtfa (Sifra);
ALTER TABLE MasterStudent ADD CONSTRAINT FKMasterStud425549 FOREIGN KEY (Sifra) REFERENCES Student (Sifra);
ALTER TABLE Knjiga ADD CONSTRAINT FKKnjiga241985 FOREIGN KEY (Zaduzenik) REFERENCES Clan (Sifra);
ALTER TABLE NaucniRad ADD CONSTRAINT FKNaucniRad985791 FOREIGN KEY (Sifra) REFERENCES Knjiga (Sifra);
ALTER TABLE Strip ADD CONSTRAINT FKStrip948600 FOREIGN KEY (Sifra) REFERENCES Knjiga (Sifra);
